<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<div th:fragment="navbar">
		<nav class="p-3 navbar navbar-expand-lg navbar-light bg-light">
			<a class="navbar-brand" href="#">
				<span class="m-1 material-symbols-outlined">savings</span>Online Banking</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
					aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav">
					<li class="nav-item active">
						<a th:classappend="${currentPage == 'home'} ? 'border-bottom border-2 border-success'" class="nav-link" href="/">Home</a>
					</li>
					<li class="nav-item">
						<a th:classappend="${currentPage == 'payments'} ? 'border-bottom border-2 border-success'" class="nav-link" href="/payments">Payments</a>
					</li>
					<li class="nav-item">
						<a th:classappend="${currentPage == 'info'} ? 'border-bottom border-2 border-success'" class="nav-link" href="/info">Info</a>
					</li>
				</ul>
			</div>
		</nav>

		<div class="p-3 m-3 shadow bg-white rounded">
			<div>
				<div class="input-group rounded">

					<!-- clickable profile thumbnail -->
					<button type="button" class="btn btn-light" onclick="fillProfileModal()" data-bs-toggle="modal" data-bs-target="#profileModal">
						<img class="rounded-circle z-depth-2" alt="100x100"
							 src="https://thumbs.dreamstime.com/b/cute-cat-portrait-square-photo-beautiful-white-closeup-105311158.jpg"
							 data-holder-rendered="true" style="max-height: 48px; max-width: 48px">
					</button>

					<!-- search bar -->
					<input type="search" class="form-control rounded" placeholder="Search" aria-label="Search"
						   aria-describedby="search-addon"/>
					<span class="input-group-text border-0" id="search-addon">
	                <i class="fa fa-search"></i>
	                </span>
				</div>
			</div>

			<!-- profile modal -->
			<div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-lg">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="profileModalLabel">User Profile</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body">
							<div class="container">
								<div class="main-body">
									<div class="row gutters-sm">
										<div class="col-md-4 mb-3">
											<div class="card">
												<div class="card-body">
													<div class="d-flex flex-column align-items-center text-center">
														<img src="https://thumbs.dreamstime.com/b/cute-cat-portrait-square-photo-beautiful-white-closeup-105311158.jpg" alt="Admin" class="rounded-circle" width="150">
														<div class="mt-3">
															<h4 id="profileFirstLastName"></h4>
															<p class="text-secondary mb-1"></p>
															<p class="text-muted font-size-sm"></p>

															<a id="profileAdminPanelButton" href="/adm" class="btn btn-info">Admin panel</a>
															<a href="/logout" class="btn btn-outline-primary">Logout</a>
														</div>
													</div>
												</div>
											</div>
										</div>
										<div class="col-md-8">
											<div class="card mb-3">
												<div class="card-body">
													<form id="profileForm">
														<div class="row">
															<div class="col-sm-3">
																<h6 class="mb-0">Email</h6>
															</div>
															<div class="col-sm-9 text-secondary">
																<p id="profileEmail"></p>
																<input hidden="true" id="profileEmailInput" name="email" class="form-control"
																	   placeholder="Enter email" />
															</div>
														</div>
														<hr>
														<div class="row">
															<div class="col-sm-3">
																<h6 class="mb-0">Phone number</h6>
															</div>
															<div class="col-sm-9 text-secondary">
																<p id="profilePhoneNumber"></p>
																<input hidden="true" id="profilePhoneNumberInput"  name="phoneNumber" class="form-control"
																	   placeholder="Enter phone number" />
															</div>
														</div>
														<hr>
														<div class="row">
															<div class="col-sm-12">
																<a id="editProfileButton" class="btn btn-info" onclick="editProfile()">Edit</a>
																<a hidden="true" id="saveProfileButton" class="btn btn-info" onclick="saveProfile()">Save</a>
															</div>
														</div>
													</form>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</html>